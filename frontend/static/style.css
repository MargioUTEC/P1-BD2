:root {
  --bg: #0f1220;
  --panel: #161a2b;
  --muted: #9aa3b2;
  --text: #e8ecf1;
  --accent: #6ea8fe;
  --accent-2: #7bd389;
  --danger: #ff6b6b;
  --warning: #ffd166;
  --border: #242a40;
  --pill: #1e253b;
}

* { box-sizing: border-box; }
html, body { margin: 0; padding: 0; height: 100%; background: var(--bg); color: var(--text); font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, 'Helvetica Neue', Arial, 'Noto Sans', 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol'; }

.topbar {
  display: grid; grid-template-columns: 1fr auto 1fr; align-items: center;
  padding: 10px 16px; border-bottom: 1px solid var(--border); background: rgba(15,18,32,.8); backdrop-filter: blur(6px); position: sticky; top: 0; z-index: 10;
}
.brand { font-weight: 700; letter-spacing: .4px; }
.tabs { justify-self: center; display:flex; gap: 4px; }
.tab { color: var(--muted); text-decoration: none; padding: 8px 12px; border-radius: 10px; }
.tab:hover { background: var(--panel); color: var(--text); }
.tab.active { background: var(--panel); color: var(--text); border: 1px solid var(--border); }
.right-actions { justify-self: end; }
.toggle { display:flex; gap:8px; align-items:center; color: var(--muted); }

.layout { padding: 16px; gap: 16px; display: grid; }
.layout.cols-2 { grid-template-columns: 1fr 1fr; }
.layout.cols-3 { grid-template-columns: repeat(3, 1fr); }

.panel { background: var(--panel); border: 1px solid var(--border); border-radius: 14px; padding: 14px; display:flex; flex-direction: column; gap: 12px; }
.panel-header { display:flex; align-items:center; justify-content: space-between; gap: 12px; }
.inline-actions { display:flex; gap: 8px; align-items:center; flex-wrap: wrap; }
.panel-subsection h3 { margin: 4px 0 6px; }

.btn { background: var(--accent); color: #0a0d18; border: none; padding: 9px 14px; border-radius: 10px; cursor: pointer; font-weight: 600; }
.btn:hover { filter: brightness(1.05); }
.btn.ghost { background: transparent; color: var(--text); border: 1px solid var(--border); }
.btn.danger { background: var(--danger); color: #fff; }
.btn.danger.ghost { background: transparent; color: var(--danger); border-color: var(--danger); }

.select, .input { background: #0e1424; color: var(--text); border: 1px solid var(--border); border-radius: 10px; padding: 9px 10px; }
.select.multi { min-width: 180px; min-height: 40px; }

.editor {
  min-height: 160px; max-height: 360px; overflow: auto;
  padding: 12px; border-radius: 10px; background: #0b1020; border: 1px solid var(--border);
  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", monospace;
  line-height: 1.5; white-space: pre; outline: none;
}
.editor:empty:before { content: attr(data-placeholder); color: var(--muted); }

.console {
  background: #0b0f1e; border: 1px dashed var(--border);
  padding: 10px; min-height: 120px; max-height: 260px; overflow: auto; border-radius: 10px; font-family: ui-monospace, monospace; font-size: 13px;
}
.log { display: flex; gap: 8px; margin-bottom: 6px; }
.log .tag { padding: 1px 6px; border-radius: 6px; font-weight: 700; }
.tag.OK { background: #143d2a; color: #78ffb6; }
.tag.INFO { background: #26324a; color: #a5c0ff; }
.tag.ERROR { background: #412026; color: #ff9dad; }
.tag.WARN { background: #3a2d17; color: #ffd166; }



.table-toolbar { display:flex; align-items:center; justify-content: space-between; gap: 8px; }
.segmented { background: #0e1424; border: 1px solid var(--border); border-radius: 10px; padding: 4px; display:flex; }
.seg { background: transparent; border: none; color: var(--text); padding: 6px 10px; border-radius: 8px; cursor:pointer; }
.seg.active { background: var(--accent); color: #0a0d18; }

.data-table { width: 100%; border-collapse: collapse; }
.data-table thead th { position: sticky; top: 0; background: #0f1426; border-bottom: 1px solid var(--border); font-weight: 600; text-align: left; padding: 10px; cursor: pointer; }
.data-table tbody td { border-bottom: 1px solid var(--border); padding: 10px; }
.data-table tbody tr:hover { background: #0f152b; }

.pager { display:flex; gap: 8px; padding: 10px; align-items:center; justify-content: flex-end; }
.pager .btn { padding: 6px 10px; }

.hints details { background: #0e1424; border: 1px solid var(--border); border-radius: 10px; padding: 8px 12px; }
.hints code { background: #0b1020; padding: 1px 6px; border-radius: 6px; }

.pill { background: var(--pill); border: 1px solid var(--border); padding: 6px 10px; border-radius: 20px; color: var(--muted); }

.filter-grid { display: flex; flex-direction: column; gap: 10px; }
.filter-row { background: #0e1424; border: 1px solid var(--border); border-radius: 10px; padding: 10px; display:grid; grid-template-columns: 220px 180px 1fr 48px; gap: 10px; position: relative; }
.filter-row .filter-tips { grid-column: 1 / -1; color: var(--muted); font-size: 12px; }
.filter-cell label { display:block; font-size: 12px; color: var(--muted); margin-bottom: 6px; }
.filter-cell .value-slot > * { width: 100%; }
.small-actions { display:flex; align-items: end; }
.muted { color: var(--muted); }
.small { font-size: 12px; }

.alerts { display: grid; gap: 8px; }
.alert { background: #0e1424; border: 1px solid var(--border); border-left-width: 4px; padding: 10px; border-radius: 8px; }
.alert.ok { border-left-color: #2ecc71; }
.alert.warn { border-left-color: var(--warning); }
.alert.err { border-left-color: var(--danger); }

.kv { display:grid; gap: 8px; }
.kv div { display:flex; align-items:center; justify-content: space-between; background: #0e1424; border:1px solid var(--border); border-radius: 10px; padding: 8px 10px; }
.index-flex { display: grid; gap: 12px; }
#results-section {
  margin-top: 1rem;
}

/* ==============================
   Consola SQL ‚Äî Mejoras UI
============================== */
/* === Scroll en resultados === */
/* === Scroll en resultados (tabla de salida) === */
/* Forzar scroll interno en tabla de resultados */
/* 3Ô∏è‚É£ Contenedor scrollable (tabla visible) */
.result-scroll {
  flex: 1;
  min-height: 0;          /* üîë habilita el scroll interno */
  overflow-y: auto;       /* scroll vertical */
  overflow-x: auto;       /* scroll horizontal */
  border-top: 1px solid var(--border);
  background-color: #111827;
}

/* 4Ô∏è‚É£ Tabla dentro del scroll */
.result-scroll table {
  width: max-content;     /* permite que aparezca el scroll X si hay muchas columnas */
  min-width: 100%;        /* asegura ancho m√≠nimo */
  border-collapse: collapse;
}

.table-wrap {
  border: 1px solid var(--border);
  border-radius: 12px;
  display: flex;
  flex-direction: column;
  overflow: hidden;       /* evita que se desborde */
  flex: 1;                /* ocupa espacio restante dentro del panel */
  min-height: 0;          /* clave para que flex permita scroll hijo */
}


/* 1Ô∏è‚É£ Panel principal (lado derecho) */
.panel:nth-child(2) {
  display: flex;
  flex-direction: column;
  overflow: hidden;

}
/* === Consola de logs detallada === */
.console {
  background-color: #0f172a;
  color: #d1d5db;
  font-family: monospace;
  border-radius: 6px;
  padding: 10px;
  height: 220px;
  overflow-y: auto;
  box-shadow: inset 0 0 4px rgba(0,0,0,0.5);
  white-space: pre-wrap;
}

.console .log {
  display: flex;
  gap: 8px;
  align-items: baseline;
  margin-bottom: 2px;
}

.console .tag {
  font-weight: bold;
  font-size: 0.85em;
}


.console .tag.PLAN  { color: #facc15; }  /* amarillo */
.console .tag.DEBUG { color: #a78bfa; }  /* violeta */
.console .tag.FORCE { color: #fb923c; }  /* naranja */
.console .tag.WARN  { color: #fbbf24; }
.console .tag.ERROR { color: #ef4444; }
.console .tag.INFO  { color: #60a5fa; }
.console .tag.OK    { color: #22c55e; }
